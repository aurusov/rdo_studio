<HTML>
<HEAD>
<TITLE>Описание точек принятия решений</TITLE>
<LINK rel = "stylesheet" type = "text/css" href = "../../../shared/styles/styles.css">
<link rel="stylesheet" href="../../../shared/styles/highlight.styles/googlecode.css">
<META http-equiv="Content-type" content="text/html; charset=utf-8" />
<script src="../../../shared/scripts/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<SCRIPT>
function toggle_display(e)
{
    if (e.style.display == "none")
        e.style.display = "";
    else
        e.style.display = "none";
    return false;
}
</SCRIPT>
</HEAD>
<BODY>
    <DIV>
        <H1>ОПИСАНИЕ ТОЧЕК ПРИНЯТИЯ РЕШЕНИЙ</H1>
        <P><B>Точки принятия решений</B> описываются в отдельном <A href="../rdo_terms.htm#object">объекте</A> (с расширением <FONT class="syntax">.dpt</FONT>).</P>
        <P>Точки принятия решений в РДО являются строительными блоками Базы Знаний моделей. В точках принятия решений происходит инстанцирование <A href="#dpt_act_desc">активностей</A> из описанных раннее <A href="rdo_obj_pat.htm">образцов</A> путем задания их параметров.</P>
        <P>Описание точек принятия решений имеет следующий формат:</P>
        <PRE class="syntax"><code class="rdo"><A class="syntax" href="#dpt_desc">&lt;описание_точки_принятия_решений&gt;</A> {&lt;описание_точки_принятия_решений&gt;}</code></PRE>
        <DL class="syntax">
            <DT class="syntax"><A name="dpt_desc"></A><I>описание_точки_принятия_решений</I></DT>
            <DD class="syntax">Описание каждой точки принятия решений имеет следующий формат:
                <PRE class="syntax"><code class="rdo"><A class="syntax" href="#dpt_headline">&lt;заголовок_точки_принятия_решений&gt;</A>
<A class="syntax" href="#dpt_act_block">&lt;блок_активностей&gt;</A></code></PRE>
                <DL class="syntax">
                    <DT class="syntax"><A name="dpt_headline"></A><I>заголовок_точки_принятия_решений</I></DT>
                    <DD class="syntax">Заголовок точки принятия решений в общем случае имеет следующий формат:
                        <PRE class="syntax"><code class="rdo">$Decision_point <A class="syntax" href="#dpt_name">&lt;имя_точки&gt;</A>: <A class="syntax" href="#dpt_type">&lt;тип_точки&gt;</A> [<A class="syntax" href="#sign_of_the_trace">&lt;признак_трассировки&gt;</A>]
[$Parent <A class="syntax" href="#dpt_parent_name">&lt;имя_родительской_точки&gt;</A>]
[$Condition <A class="syntax" href="#init_cond">&lt;условие_активизации_точки&gt;</A>]
[$Priority <A class="syntax" href="#dpt_priority">&lt;приоритет_точки&gt;</A>]
[$Term_condition <A class="syntax" href="../rdo_dpt/rdo_dpt_search.htm">&lt;терминальное_условие&gt;</A>
  $Evaluate_by <A class="syntax" href="../rdo_dpt/rdo_dpt_search.htm">&lt;оценка_стоимости_оставшегося_пути_на_графе&gt;</A>
  $Compare_tops = <A class="syntax" href="../rdo_dpt/rdo_dpt_search.htm">&lt;признак_сравнения_вершин&gt;</A>]</code></PRE>
                        <DL class="syntax">
                            <DT class="syntax"><A name="dpt_name"></A><I>имя_точки</I></DT>
                            <DD class="syntax">Имя точки принятия решений представляет собой <A href="../rdo_lex_div/rdo_lex_div_names.htm">простое имя</A>. Имена должны быть различными для всех точек принятия решений и не должны совпадать с ранее определенными именами.</DD>
                            <DT class="syntax"><A name="dpt_type"></A><I>тип_точки</I></DT>
                            <DD class="syntax">В данной версии РДО-языка имеются три типа точек принятия решений:
                                <TABLE class="visible" style="width: 85%">
                                    <TR valign="top">
                                        <TH align="left" width="20%">Тип точки</TH>
                                        <TH align="left" width="80%">Описание</TH>
                                    </TR>
                                    <TR valign="top">
                                        <TD class="visible" NOWRAP width="20%"><FONT class="syntax"> <A class="syntax" href="../rdo_dpt/rdo_dpt_some.htm">some</A></FONT></TD>
                                        <TD class="visible" width="80%">Проверять предусловия запуска активностей в порядке их записи в точке принятия решений, выполнить первую найденную активность, предусловия которой удовлетворяются</TD>
                                    </TR>
                                        <TD class="visible" NOWRAP width="20%"><FONT class="syntax"> <A class="syntax" href="../rdo_dpt/rdo_dpt_prior.htm">prior</A></FONT></TD>
                                        <TD class="visible" width="80%">Проверять предусловия запуска активностей в порядке убывания их приоритетов, выполнить первую найденную активность, предусловия которой удовлетворяются</TD>
                                    </TR>
                                    <TR valign="top">
                                        <TD class="visible" NOWRAP width="20%"><FONT class="syntax"> <A class="syntax" href="../rdo_dpt/rdo_dpt_search.htm">search</A></FONT></TD>
                                        <TD class="visible" width="80%">Реализовать поиск на графе состояний</TD>
                                    </TR>
                                </TABLE>
                            </DD>
                            <DT class="syntax"><A name ="sign_of_the_trace"></A><I>признак_трассировки</I></DT>
                            <DD class="syntax">Точка принятия решений может иметь признак трассировки (подробнее смотри описание <A class="syntax" href="../rdo_res/rdo_res_trace_descr.htm">&lt;трассировка состояния объектов РДО&gt;</A>).
                            <DT class="syntax"><A name="dpt_parent_name"></A><I>имя_родительской_точки</I></DT>
                            <DD class="syntax">
                                <P>База знаний в РДО имеет древовидную иерархическую структуру. Это достигается за счет возможности вложения точек принятия решений друг в друга. Таким образом внутри одной точки содержатся не только активности, указанный в ней явно, но и те точки, которые указали ее в качестве родителя. В процессе сканирования активностей дочерние точки принятия решений имеют приоритет перед активностями внутри точек типа <A href="../rdo_dpt/rdo_dpt_prior.htm">some</A>, но не имеют таковой в точках типа <A href="../rdo_dpt/rdo_dpt_prior.htm">prior</A>. В последних все содержимое точки сортируется по приоритету на каждой итерации поиска.</P>
                                <P>Имя родительской точки - это имя той точки принятия решений, внутрь которой встраивается текущая точка. Дочерние точки могут иметь только точки типа <A href="../rdo_dpt/rdo_dpt_some.htm">some</A> и <A href="../rdo_dpt/rdo_dpt_prior.htm">prior</A>, точки типа <A href="../rdo_dpt/rdo_dpt_search.htm">search</A> дочерних иметь не могут.</P>
                            </DD>
                            <DT class="syntax"><A name="init_cond"></A><I>условие_активизации_точки</I></DT>
                            <DD class="syntax">Условие активизации точки есть <A href="../rdo_base/rdo_base_equations.htm#log_expr">логическое выражение</A>. Если при некотором событии состояние системы удовлетворяет этому выражению, активизируется алгоритм обработки точки принятия решений.</DD>
                            <DT class="syntax"><A name="dpt_priority"></A><I>приоритет_точки</I></DT>
                            <DD class="syntax">Приоритет точки есть <A href="../rdo_base/rdo_base_equations.htm#arith_expr">арифметическое выражение</A> целого или вещественного типа, ограниченное диапазоном [0;1]. В случае, если данная точка имеет в качестве родительской точку типа prior, то на каждой итерации процесса сканирования активностей будет расчитан приоритет точки, в соответствии с которым она будет отсортирована внутри родительской. Этот механизм позволяет динамически управлять направлением логического вывода внутри иерархической базы знаний модели.</DD>
                            <DT><BR>Терминальное условие поиска, эвристическая оценочная функция стоимости оставшегося пути до целевой вершины и признак сравнения вершин записывается только для точек типа <FONT class="syntax">search</FONT>.</DT>
                        </DL>
                    </DD>
                </DL>
                <DL class="syntax">
                    <DT class="syntax"><A name="act_block"></A><A name="dpt_act_block"></A><A name="dpt_act_block_end"></A><I>блок_активностей</I></DT>
                    <DD class="syntax">Блок активностей имеет следующий формат:
                        <PRE class="syntax"><code class="rdo">$Activities
    <A class="syntax" href="#dpt_act_desc">&lt;описание_активности&gt;</A> {&lt;описание_активности&gt;}
$End</code></PRE>
                        <DL class="syntax">
                            <DT>Активности вместе с <A href="rdo_pat_type/rdo_pat_type_event.htm">событиями</A> определяют содержимое базы знаний программы (<A href="../rdo_terms.htm">модели</A>).</DT>
                            <DT class="syntax"><A name="dpt_act_desc"></A><I>описание_активности</I></DT>
                            <DD class="syntax">Описание каждой активности зависит от типа точки и в общем случае 
                                имеет следующий формат:
                                <PRE class="syntax"><code class="rdo"><A class="syntax" href="#dpt_act_name">&lt;имя_активности&gt;</A>: <A class="syntax" href="#dpt_act_pat">&lt;имя_образца&gt;</A> [(<A class="syntax" href="#dpt_act_key">&lt;код_клавиши&gt;</A>, <A class="syntax" href="#dpt_act_params">&lt;значения_параметров_образца&gt;</A>)]
[<A class="syntax" href="../rdo_dpt/rdo_dpt_prior.htm">&lt;приоритет_активности&gt;</A>]
[(value before | value after) <A class="syntax" href="../rdo_dpt/rdo_dpt_search.htm">&lt;стоимость_применения_правила&gt;</A>];</code></PRE>
Все параметры активности (в том числе и код клавиши вызова) отделяются друг от друга запятыми. В том случае, если параметры отсутствуют, скобки писать не нужно.</DD>
                                <DL class="syntax">
                                    <DT class="syntax"><A name="dpt_act_name"></A><I>имя_активности</I></DT>
                                    <DD class="syntax">Имя активности - это любое <A href="../rdo_lex_div/rdo_lex_div_names.htm">допустимое в языке имя</A>, не совпадающее с ранее определенными именами.</DD>
                                    <DT class="syntax"><A name="dpt_act_pat"></A><I>имя_образца</I></DT>
                                    <DD class="syntax">Имя образца - это имя одного из образцов, заданных в <A href="rdo_obj_pat.htm">объекте образцов</A>.<P>При написании блока активностей необходимо иметь ввиду следующее. Для точки принятия решений типа <FONT class="syntax">search</FONT> допустимо использование только образцов типа <FONT class="syntax">rule</FONT>, при выполнении которых ресурсы не создаются и не уничтожаются, то есть <A href="rdo_obj_pat.htm#conv_stat">статусы конверторов</A> релевантных ресурсов которых не содержат <FONT class="syntax">Create</FONT> или <FONT class="syntax">Erase</FONT>. Использование образцов других типов не допускается.</P></DD>
                                    <DT class="syntax"><A name="dpt_act_key"></A><I>код_клавиши</I></DT>
                                    <DD class="syntax">Код клавиши указывают для образцов типа <A href="../rdo_obj/rdo_pat_type/rdo_pat_type_keyboard.htm">клавиатурная операция</A> (<FONT class="syntax">keyboard</FONT>).</DD>
                                    <DT class="syntax"><A name="dpt_act_params"></A><I>значения_параметров_образца</I></DT>
                                    <DD class="syntax">Значения <A href="rdo_obj_pat.htm#param_desc">параметров образца</A> задают в позиционном соответствии с порядком следования параметров в описании образца, отделяя друг от друга запятыми. Значения задают целой или вещественной <A href="../rdo_lex_div/rdo_lex_div_numeric_const.htm">численной константой</A> либо именем значения в соответствии с типом параметра. Для тех параметров, у которых указано значение по умолчанию, вместо начального значения можно указать символ "*". В этом случае параметр примет значение по умолчанию. Если для параметра задан диапазон возможных значений, то проверяется соответствие начального значения этому диапазону.</DD>
                                </DL>
                            </DD>
                        </DL>
                    </DD>
                </DL>
            </DD>
        </DL>
        <A href="" class="ref" onclick="return toggle_display(v1);"><H4>Примеры</H4></A>
        <DIV style="display:none" id="v1">
        <PRE class="syntax"><code class="rdo">$Decision_point Точка_1: search trace_stat
$Condition
    Ресурс_1.Параметр_1 == 0 and Exist(Тип_1: Тип_1.Параметр_3 = Значение_2) and Ресурс_5.Параметр_7 &lt;&gt; 0
$Term_condition Ресурс_1.Параметр_1 = 1
$Evaluate_by 0
$Compare_tops = NO
$Activities
    Правило_1: Образец_12(6.25, *)    value after Ресурс_1.Параметр_4;
    Правило_2: Образец_8 (Значение_5) value after Ресурс_1.Параметр_4;
    Правило_3: Образец_9              value before Рел_Ресурс_2.Параметр_4 * IAbs(Рел_Ресурс_2.Параметр_5) * 2;
$End

$Decision_point Точка_2: prior
$Condition NoCheck
$Activities
    Операция_обслуживания_1: Образец_3(10, 20, *) cf = 0.8;
    Клавиатурная_операция_1: Образец_6('LEFT', 100) cf = 0.5;
$End

$Decision_point Точка_3: some
$Priority 1
$Parent Точка_2
$Activities
    Операция_1: Образец_14(25, *);
    Операция_2: Образец_15(Значение_2);
    Операция_3: Образец_16;
$End</code></PRE>
        </DIV>
        <H4>См. также</H4>
        <P><A href="../rdo_base/rdo_base_resources.htm">Описание ресурсов</A></P>
        <P><A href="rdo_obj_pat.htm">Описание образцов</A></P>
        <P><A href="../rdo_res/rdo_res_trace_descr.htm">Трассировка состояния объектов РДО</A></P>
    </DIV>
    <BR><SCRIPT src="../../../shared/scripts/navbar.js"></SCRIPT>
</BODY>
</HTML>
