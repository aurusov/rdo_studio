<HTML>
<HEAD>
<TITLE>Глобальные переменные и стандартные функции</TITLE>
<LINK rel = "stylesheet" type = "text/css" href = "../../../shared/styles/styles.css">
<link rel="stylesheet" href="../../../shared/styles/highlight.styles/googlecode.css">
<META http-equiv="Content-type" content="text/html; charset=utf-8" />
<script src="../../../shared/scripts/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</HEAD>
<BODY>
    <DIV>
        <H1>ГЛОБАЛЬНЫЕ ПЕРЕМЕННЫЕ И СТАНДАРТНЫЕ ФУНКЦИИ</H1>
        <P><A name="glob"></A>Глобальные переменные и стандартные арифметические функции используются в <A href="rdo_base_equations.htm#arith_expr">арифметических выражениях</A>.</P>
        <P><B>Глобальных переменных</B> в данной версии языка три:</P>
        <TABLE class="visible">
            <TR valign="top">
                <TH align="left" width="20%">Имя переменной</TH>
                <TH align="left" width="20%">Тип переменной</TH>
                <TH align="left" width="60%">Описание</TH>
            </TR>
            <TR valign="top"><A name="sec"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Seconds</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="60%">Содержит количество секунд, прошедших с момента начала моделирования</TD>
            </TR>
            <TR valign="top"><A name="time_now"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Time_now</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="60%">Содержит значение текущего модельного времени (времени в моделируемой системе) в единицах времени.</TD>
            </TR>
            <TR valign="top"><A name="terminate_counter"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Terminate_counter</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="60%">Содержит значение терминального счетчика <A href="../rdo_obj/rdo_obj_proc.htm">процессного подхода</A>.</TD>
            </TR>
        </TABLE>
        <P><B>Стандартные <A name="arith"></A>арифметические функции</B>, включенные в данную версию языка, приведены в следующей таблице с соответствующими пояснениями:</P>
        <TABLE class="visible">
            <TR valign="top">
                <TH align="left" width="10%">Имя функции</TH>
                <TH align="left" width="20%">Тип значения</TH>
                <TH align="left" width="20%">Тип первого аргумента</TH>
                <TH align="left" width="20%">Тип второго аргумента</TH>
                <TH align="left" width="30%">Описание</TH>
            </TR>
            <TR valign="top"><A name="abs"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Abs(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет абсолютную величину вещественного аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="arccos"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">ArcCos(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет арккосинус аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="arcsin"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">ArcSin(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет арксинус аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="arctan"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">ArcTan(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет арктангенс аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="cos"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Cos(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет косинус аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="cotan"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Cotan(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет котангенс аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="exp"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Exp(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет значение <FONT class="syntax">е</FONT> в степени <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="floor"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Floor(x)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Результат функции - наибольшее целое число, не превосходящее <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="frac"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Frac(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Возвращает дробную часть вещественного аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="iabs"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">IAbs(x)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет абсолютную величину целого аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="imax"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">IMax(x,y)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="30%">Возвращает максимальное из значений двух целых аргументов <FONT class="syntax">x</FONT> и <FONT class="syntax">y</FONT></TD>
            </TR>
            <TR valign="top"><A name="imin"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">IMin(x,y)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="30%">Возвращает минимальное из значений двух целых аргументов <FONT class="syntax">x</FONT> и <FONT class="syntax">y</FONT></TD>
            </TR>
            <TR valign="top"><A name="int"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Int(x)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Результат функции - наибольшее целое число, не превосходящее <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="intpower"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">IntPower(x,y)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="30%">Вычисляет значение <FONT class="syntax">x</FONT> в целой степени <FONT class="syntax">y</FONT> с учетом знака <FONT class="syntax">x</FONT>. Если <FONT class="syntax">x</FONT> отрицателен и <FONT class="syntax">y</FONT> - нечетная, то результат отрицателен</TD>
            </TR>
            <TR valign="top"><A name="ln"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Ln(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет натуральный логарифм положительного аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="log10"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Log10(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет логарифм по основанию 10 положительного аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="log2"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Log2(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет логарифм по основанию 2 положительного аргумента <FONT class="syntax">x</FONT></TD>
            </TR>
            <TR valign="top"><A name="logn"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">LogN(x,y)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="30%">Вычисляет логарифм по основанию <FONT class="syntax">y</FONT> положительного аргумента <FONT class="syntax">x</FONT>. Аргумент <FONT class="syntax">y</FONT> должен быть положителен</TD>
            </TR>
            <TR valign="top"><A name="max"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Max(x,y)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="30%">Возвращает максимальное из значений двух вещественных аргументов <FONT class="syntax">x</FONT> и <FONT class="syntax">y</FONT></TD>
            </TR>
            <TR valign="top"><A name="min"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Min(x,y)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="30%">Возвращает минимальное из значений двух вещественных аргументов <FONT class="syntax">x</FONT> и <FONT class="syntax">y</FONT></TD>
            </TR>
            <TR valign="top"><A name="power"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Power(x,y)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="30%">Вычисляет значение <FONT class="syntax">x</FONT> в степени <FONT class="syntax">y</FONT>. <FONT class="syntax">x</FONT> должен быть неотрицателен</TD>
            </TR>
            <TR valign="top"><A name="round"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Round(x)</FONT></TD>
                <TD class="visible" width="20%">целый</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Округляет значение вещественного аргумента <FONT class="syntax">x</FONT> к ближайшему целому числу</TD>
            </TR>
            <TR valign="top"><A name="sin"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Sin(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет синус аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
            <TR valign="top"><A name="sqrt"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Sqrt(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет значение корня квадратного из <FONT class="syntax">x</FONT>. <FONT class="syntax">x</FONT> должен быть неотрицателен</TD>
            </TR>
            <TR valign="top"><A name="tan"></A>
                <TD class="visible" NOWRAP width="10%"><FONT class="syntax">Tan(x)</FONT></TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%">вещественный</TD>
                <TD class="visible" width="20%"></TD>
                <TD class="visible" width="30%">Вычисляет тангенс аргумента <FONT class="syntax">x</FONT>, заданного в радианах</TD>
            </TR>
        </TABLE>
        <A name="log"></A>
        <P>Кроме стандартных арифметических функций в языке определены четыре стандартные функции, значением которых является ИСТИНА или ЛОЖЬ. Синтаксис вызова этих функций следующий:</P>
        <PRE class="syntax"><code class="rdo"><имя_функции>(<имя_типа_ресурсов>: (<логическое_выражение> | NoCheck))</code></PRE>
        <P><B>Стандартные логические функции</B> используются в <A href="rdo_base_equations.htm">логических выражениях</A>. Ниже приведены их имена и способы вычисления их значений:</P>
        <TABLE class="visible">
            <TR valign="top">
                <TH align="left" width="20%">Имя функции</TH>
                <TH align="left" width="80%">Значение</TH>
            </TR>
            <TR valign="top"><A name="exist"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Exist</FONT></TD>
                <TD class="visible" width="80%">Если существует хотя бы один ресурс указанного типа, состояние которого удовлетворяет заданному логическому выражению, функция выдает значение ИСТИНА, в противном случае - ЛОЖЬ</TD>
            </TR>
            <TR valign="top"><A name="not_exist"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Not_Exist</FONT></TD>
                <TD class="visible" width="80%">Если не существует ни одного ресурса указанного типа, состояние которого удовлетворяет заданному логическому выражению, функция выдает значение ИСТИНА, в противном случае - ЛОЖЬ</TD>
            </TR>
            <TR valign="top"><A name="for_all"></A>
                <TD class="visible" width="20%"><FONT class="syntax">For_All</FONT></TD>
                <TD class="visible" width="80%">Если состояние всех ресурсов указанного типа удовлетворяет заданному логическому выражению, функция выдает значение ИСТИНА, в противном случае - ЛОЖЬ</TD>
            </TR>
            <TR valign="top"><A name="not_for_all"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Not_For_All</FONT></TD>
                <TD class="visible" width="80%">Если состояние не всех ресурсов указанного типа удовлетворяет заданному логическому выражению, функция выдает значение ИСТИНА, в противном случае - ЛОЖЬ</TD>
            </TR>
        </TABLE>
        <P>Если вместо логического выражения указано зарезервированное слово <A name="nocheck"></A><FONT class="syntax">NoCheck</FONT>, то рассматриваются все ресурсы указанного типа. В этом случае функция <FONT class="syntax">Exist</FONT> определяет, существует ли хотя бы один ресурс указанного типа, функция <FONT class="syntax">For_All</FONT> всегда выдает значение ИСТИНА (даже если нет ни одного ресурса указанного типа), а функция <FONT class="syntax">Not_For_All</FONT> всегда выдает значение ЛОЖЬ.</P>
        <A name="select"></A>
        <P>В языке определена еще одна стандартная функция, позволяющая работать со <B>списком ресурсов</B>. Она позволяет отобрать только часть ресурсов указанного типа и проверить их состояния. Синтаксис:</P>
        <PRE class="syntax"><code class="rdo">Select(<имя_типа_ресурсов>: (<логическое_выражение> | NoCheck)).<метод_списка></code></PRE>
        <P>Список методов приведен в таблице:</P>
        <TABLE class="visible">
            <TR valign="top">
                <TH align="left" width="20%">Имя метода</TH>
                <TH align="left" width="70%">Описание</TH>
                <TH align="left" width="10%">Значение</TH>
            </TR>
            <TR valign="top"><A name="select_exist"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Exist</FONT></TD>
                <TD class="visible" width="70%">Описание аналогично <A href="rdo_base_std_var_func.htm#exist">приведённому</A>, но проверяются не все, ресурсы, а только отобранные в список. Формат использования: <PRE class="syntax"><code class="rdo">Exist(&lt;логическое_выражение&gt; | NoCheck)</code></PRE></TD>
                <TD class="visible" width="10%">Логическое</TD>
            </TR>
            <TR valign="top"><A name="select_not_exist"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Not_Exist</FONT></TD>
                <TD class="visible" width="70%">Описание аналогично <A href="rdo_base_std_var_func.htm#not_exist">приведённому</A>, но проверяются не все, ресурсы, а только отобранные в список. Формат использования: <PRE class="syntax"><code class="rdo">Not_Exist(&lt;логическое_выражение&gt; | NoCheck)</code></PRE></TD>
                <TD class="visible" width="10%">Логическое</TD>
            </TR>
            <TR valign="top"><A name="select_for_all"></A>
                <TD class="visible" width="20%"><FONT class="syntax">For_All</FONT></TD>
                <TD class="visible" width="70%">Описание аналогично приведённому, но проверяются не все, ресурсы, а только отобранные в список. Формат использования: <PRE class="syntax"><code class="rdo">For_All(&lt;логическое_выражение&gt; | NoCheck)</code></PRE></TD>
                <TD class="visible" width="10%">Логическое</TD>
            </TR>
            <TR valign="top"><A name="select_not_for_all"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Not_For_All</FONT></TD>
                <TD class="visible" width="70%">Описание аналогично приведённому, но проверяются не все, ресурсы, а только отобранные в список. Формат использования: <PRE class="syntax"><code class="rdo">Not_For_All(&lt;логическое_выражение&gt; | NoCheck)</code></PRE></TD>
                <TD class="visible" width="10%">Логическое</TD>
            </TR>
            <TR valign="top"><A name="select_empty"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Empty</FONT></TD>
                <TD class="visible" width="70%">Возвращает значение ИСТИНА, если список отобранных ресурсов пуст, в противном случае - ЛОЖЬ. Формат использования: <PRE class="syntax"><code class="rdo">Empty()</code></PRE></TD>
                <TD class="visible" width="10%">Логическое</TD>
            </TR>
            <TR valign="top"><A name="select_size"></A>
                <TD class="visible" width="20%"><FONT class="syntax">Size</FONT></TD>
                <TD class="visible" width="70%">Возвращает размер списка ресурсов, целое число. Если список пуст, то вовращается ноль. Формат использования: <PRE class="syntax"><code class="rdo">Size()</code></PRE></TD>
                <TD class="visible" width="10%">Арифметическое</TD>
            </TR>
            <TR valign="top"><A name="select_array"></A>
                <TD class="visible" width="20%"><FONT class="syntax">getArray</FONT></TD>
                <TD class="visible" width="70%"><b>Работает только в системе анимации.</b> Возвращает массив с отобранными ресурсами, тип массива соответствует типу ресурса. Если список ресурсов пуст, возвращаемый массив также имеет нулевой размер. Формат использования: <PRE class="syntax"><code class="rdo">getArray() | get_array()</code></PRE>
                <TD class="visible" width="10%">Арифметическое</TD>
            </TR>
        </TABLE>
        <H4>Примеры</H4>
        <PRE class="syntax"><code class="rdo">Exist(Заявки : Заявки.Состояние = ожидает)</code></PRE>
        <PRE class="syntax"><code class="rdo">Not_Exist(Тип_1 : NoCheck)</code></PRE>
        <PRE class="syntax"><code class="rdo">Not_For_All(Станок : Станок.Количество &gt; 3 and Станок.Состояние = свободен)</code></PRE>
        <PRE class="syntax"><code class="rdo">Select(Заявка: Заявка.Время_прихода &gt;= 480 and Заявка.Состояние = в_очереди).For_All(Заявка.Время_в_очереди &gt; 20)</code></PRE>
    <PRE class="syntax"><code class="rdo">array<Заявки> Z = Select(Заявки: Заявки.Время_прихода &gt;= 300).getArray();</code></PRE>
        <H4>См. также</H4>
        <P><A href="rdo_base_types.htm">Типы данных. Соответствие типов</A></P>
    </DIV>
    <BR><SCRIPT src="../../../shared/scripts/navbar.js"></SCRIPT>
</BODY>
</HTML>